(this["webpackJsonpmy-task"]=this["webpackJsonpmy-task"]||[]).push([[0],{39:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r,a,c,o,i,s,l,d=t(1),u=t.n(d),j=t(23),b=t.n(j),m=(t(39),t(17)),h=t(4),f=t(7),p=t(5),O=t(6),x=t(25),g=t(2),v=O.a.form(r||(r=Object(p.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 28rem;\n  height: 24rem;\n  justify-content: center;\n  aling-items: center;\n  padding: 1rem 1rem;\n  background-color: #142d4c;\n  border-radius: 2rem;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n"]))),y=O.a.input(a||(a=Object(p.a)(["\n  width: 90%;\n  margin: 0 auto;\n  margin-bottom: 2rem;\n  height: 7rem;\n  padding: 0 2rem;\n  border-radius: 1rem;\n  border-style: none;\n  background-color: #385170;\n  color: white;\n  text-align: center;\n\n  &:focus {\n    outline: none;\n  }\n"]))),k=O.a.div(c||(c=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n"]))),w=O.a.button(o||(o=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  background: none;\n  color: white;\n  border: none;\n  cursor: pointer;\n  transition: 0.5s;\n  &:hover {\n    color: #f95959;\n    transform: scale(1.2);\n  }\n"]))),C=O.a.button(i||(i=Object(p.a)(["\n  display: flex;\n  align-items: center;\n  background: none;\n  color: white;\n  border: none;\n  flex-direction: column;\n  cursor: pointer;\n  transition: 0.5s;\n  &:hover {\n    color: rgb(187 227 97);\n    transform: scale(1.2);\n  }\n"]))),S=O.a.h1(s||(s=Object(p.a)(["\n  text-align: center;\n  padding-bottom: 1rem;\n"])));O.a.p(l||(l=Object(p.a)(["\n  text-align: center;\n  padding-bottom: 1rem;\n  font-size: 1.2rem;\n"])));var T,E=function(e){var n=u.a.useState(""),t=Object(f.a)(n,2),r=t[0],a=t[1],c=u.a.useState(e.defaultTaskText||""),o=Object(f.a)(c,2),i=o[0],s=(o[1],Object(h.m)());return Object(g.jsxs)(v,{onSubmit:function(n){e.submitEvent(r),s("/"),n.preventDefault()},children:[Object(g.jsx)(S,{children:e.label}),Object(g.jsx)(y,{onChange:function(e){a(e.target.value)},placeholder:i}),Object(g.jsxs)(k,{children:[Object(g.jsxs)(C,{type:"submit",children:[Object(g.jsx)(x.a,{size:"4rem"}),e.submitText]}),Object(g.jsxs)(w,{onClick:function(e){s("/")},children:[Object(g.jsx)(x.b,{size:"4rem"}),"Cancelar"]})]})]})},V=O.a.div(T||(T=Object(p.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: grid;\n  grid-template-columns: 1fr;\n  align-items: center;\n  justify-items: center;\n"])));function z(e){return Object(g.jsx)(V,{children:e.children})}var U=t(10),I=t(12);var A=function(e){return{loading:!0,error:!1,item:e.initialValue,sync:!1}},L={error:"ERROR",success:"SUCCESS",syncUp:"SYNCUP",save:"SAVE"},M=function(e,n){switch(n.type){case L.error:return Object(I.a)(Object(I.a)({},e),{},{error:!0});case L.success:return Object(I.a)(Object(I.a)({},e),{},{item:n.payload,loading:!1,sync:!0});case L.syncUp:return Object(I.a)(Object(I.a)({},e),{},{loading:!0,sync:!1});case L.save:return Object(I.a)(Object(I.a)({},e),{},{item:n.payload});default:return Object(I.a)({},e)}},N=function(e,n){var t=u.a.useReducer(M,A({initialValue:n})),r=Object(f.a)(t,2),a=r[0],c=r[1],o=a.loading,i=a.error,s=a.item,l=a.sync,d=function(e){c({type:L.error,payload:e})};return u.a.useEffect((function(){setTimeout((function(){try{var t,r=localStorage.getItem(e);r?t=JSON.parse(r):(localStorage.setItem(e,JSON.stringify(n)),t=n),function(e){c({type:L.success,payload:e})}(t)}catch(a){d(a)}}),1e3)}),[l]),{item:s,saveItem:function(n){try{localStorage.setItem(e,JSON.stringify(n)),function(e){c({type:L.save,payload:e})}(n)}catch(t){d(t)}},loading:o,error:i,syncUp:function(){c({type:L.syncUp})}}};var R,D,J=function(e){var n=e.map((function(e){return e.id}));return(n.length>0?Math.max.apply(Math,Object(U.a)(n)):1)+1},B=function(){var e=N("TASKS_V2.0",[]),n=e.item,t=e.saveItem,r=e.loading,a=e.error,c=e.syncUp,o=u.a.useState(""),i=Object(f.a)(o,2),s=i[0],l=i[1],d=u.a.useState(!1),j=Object(f.a)(d,2),b=j[0],m=j[1],h=n.filter((function(e){return e.completed})).length,p=n.length,O=[];return O=s.length<=0?n:n.filter((function(e){var n=s.toLowerCase();return e.text.toLowerCase().includes(n)})),{task:n,addTask:function(e){var r=J(n),a=Object(U.a)(n);a.push({completed:!1,text:e,id:r}),t(a),m((function(e){return!e}))},openModal:b,setOpenModal:m,taskCompleted:h,totalTask:p,searchValue:s,setSearchValue:l,searchArray:O,OnComplete:function(e){var r=n.findIndex((function(n){return n.id===e})),a=Object(U.a)(n);a[r].completed=!a[r].completed,t(a)},OnDelete:function(e){var r=n.findIndex((function(n){return n.id===e})),a=Object(U.a)(n);a.splice(r,1),t(a)},loading:r,error:a,syncUpTasks:c,OnEdit:function(e,r){var a=n.findIndex((function(n){return n.id===e})),c=Object(U.a)(n);c[a].text=r,t(c)},getTask:function(e){var t=n.findIndex((function(n){return n.id===e}));return n[t]}}},F=function(){var e,n,t=Object(h.j)(),r=Object(h.o)(),a=Number(r.id),c=B(),o=c.OnEdit,i=c.getTask,s=c.loading;if(null===(e=t.state)||void 0===e?void 0:e.text)n=t.state.text;else{if(s)return Object(g.jsx)("p",{children:"Cargando..."});n=i(a).text}return Object(g.jsx)(z,{children:Object(g.jsx)(E,{label:"Edita tu tarea",submitText:"Editar",defaultTaskText:n,submitEvent:function(e){return o(a,e)}})})},K=O.a.section(R||(R=Object(p.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 28rem;\n    height: auto;\n    max-height: 120rem;\n    background-color: #142d4c;\n    border-radius: 2rem;\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n"])));function P(e){return Object(g.jsx)(K,{children:e.children})}var $,_=O.a.img(D||(D=Object(p.a)(["\n    display:flex;\n    margin: 2rem auto;\n    width: 10rem;\n    height: 10rem;\n"])));function H(){return Object(g.jsx)(u.a.Fragment,{children:Object(g.jsx)(_,{src:"https://cdn-icons-png.flaticon.com/512/906/906334.png",alt:"Logo de MyTask"})})}var Y,q=O.a.p($||($=Object(p.a)(["\n  font-size: 1.8rem;\n  text-align: center;\n  color: #ececec;\n  font-weight: 500;\n  margin-bottom: 2rem;\n  margin 0rem 1rem 1rem 1rem;\n  opacity: ","\n"])),(function(e){return e.$loading?"0.15":"1"}));function G(e){var n=e.taskCompleted,t=e.totalTask,r=e.loading,a=e.task;return Object(g.jsx)(q,{$loading:r,children:0!==t||r?r?"Cargando sus tareas":!r&&a.every((function(e){return e.completed}))?"Usted complet\xf3 todas sus ".concat(n," tareas"):"\xa1Hola! Llevas ".concat(n," de ").concat(t," tarea").concat(1===t?"":"s"," completadas"):"Bienvenido, crea tu primera tarea"})}var Q,W=O.a.input(Y||(Y=Object(p.a)(["\n  display:flex;\n  width: 90%;\n  margin: 0 auto;\n  height: 5rem;\n  padding: 0 2rem;\n  border-radius: 1rem;\n  border-style: none;\n  background-color: #385170;\n  color: white;\n  &:focus {\n    outline: none;\n  }\n"])));function X(e){var n=e.searchValue,t=e.setSearchValue,r=e.loading;return Object(g.jsx)(W,{Value:n,placeholder:"Buscar tarea",onInputCapture:function(e){t(e.target.value)},disabled:r})}var Z=O.a.div(Q||(Q=Object(p.a)(["\n    width: 90%;\n    height: auto;\n    margin: 0 auto;\n    \n\n"])));function ee(e){return Object(g.jsxs)(Z,{children:[e.loading&&e.taskLoading(),e.error&&e.taskError(),!e.loading&&!e.taskLength&&e.taskEmpty(),!e.loading&&!e.searchArray.length&&e.taskLength>0&&e.emptySearchResults(e.searchValue),!e.loading&&e.searchArray.map(e.children)]})}var ne,te,re,ae,ce,oe,ie=t(11),se=O.a.div(ne||(ne=Object(p.a)(["\n  padding: 1rem 2rem;\n  margin-top: 2rem; \n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 5rem;\n  background-color: #385170;\n  border-radius: 1rem;\n  align-items: center;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n"]))),le=O.a.div(te||(te=Object(p.a)(["\n  cursor: pointer;\n  color: #9fd3c7;\n  transition: 0.5s;\n  justify-self: flex-end;\n\n  &:hover {\n    color: #f95959;\n    transform: scale(1.1);\n  }\n"]))),de=O.a.div(re||(re=Object(p.a)(["\n  cursor: pointer;\n  color: #9fd3c7;\n  transition: 0.5s;\n  position: relative;\n\n  \n  &:hover {\n    color: #1e73be;\n    transform: scale(1.1);\n  }\n"]))),ue=O.a.div(ae||(ae=Object(p.a)(["\n  cursor: pointer;\n  transition: 0.5s;\n  \n\n  &:hover {\n    color: #c6ef6d;\n    transform: scale(1.1);\n  }\n"]))),je=O.a.p(ce||(ce=Object(p.a)(["\n  font-size: 1.5rem;\n  color: white;\n  text-align: center;\n\n  text-decoration: ",";\n"])),(function(e){return e.completed?"line-through":"none"}));function be(e){return Object(g.jsxs)(se,{children:[Object(g.jsx)(ue,{children:Object(g.jsx)(ie.a,{onClick:e.OnComplete,size:"2rem",color:"".concat(e.completed?"#cbf078":"#9fd3c7")})}),Object(g.jsx)(je,{completed:e.completed,children:e.taskText}),Object(g.jsx)(le,{children:Object(g.jsx)(ie.b,{onClick:e.OnDelete,size:"2rem"})}),Object(g.jsx)(de,{children:Object(g.jsx)(ie.c,{onClick:e.OnEdit,size:"2rem"})})]})}var me=O.a.div(oe||(oe=Object(p.a)(["\n  cursor: pointer;\n  width: 4rem;\n  margin: 2rem auto;\n  transition: 0.5s;\n  &:hover {\n    transform: scale(1.2);\n  }\n"])));function he(e){return Object(g.jsx)(me,{onClick:e.onClick,children:Object(g.jsx)(ie.d,{size:"4rem",color:"#9fd3c7"})})}var fe,pe,Oe=function(e){var n=e.children,t=e.loading;return Object(g.jsx)("header",{children:u.a.Children.toArray(n).map((function(e){return u.a.cloneElement(e,{loading:t})}))})},xe=(Object(O.a)(me)(fe||(fe=Object(p.a)(["\n  &:hover {\n    transform: scale(1.2) rotate(45deg);\n  }\n"]))),O.a.div(pe||(pe=Object(p.a)(["\n  transition: 2s;\n  background: rgba(32, 35, 41, 0.8);\n  position: fixed;\n  top: -10px;\n  left: -10px;\n  right: -10px;\n  bottom: -10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  color: white;\n"]))));var ge,ve,ye=O.a.p(ge||(ge=Object(p.a)(["\n    color: white;\n    font-size: 2rem;\n    text-aling:center;\n"])));function ke(){return Object(g.jsx)(ye,{children:"Cargando tareas"})}var we,Ce=O.a.p(ve||(ve=Object(p.a)(["\n    color: white;\n    font-size: 1.5rem;\n    padding-top: 2rem;\n    text-align:center;\n"])));function Se(){return Object(g.jsx)(Ce,{children:"Cargando tareas..."})}var Te,Ee=O.a.p(we||(we=Object(p.a)(["\n    color: white;\n    font-size: 1.5rem;\n    text-align:center;\n    padding-top:2rem;\n"])));function Ve(){return Object(g.jsx)(Ee,{children:"Crea tu primera tarea"})}var ze=O.a.p(Te||(Te=Object(p.a)(["\n    color: white;\n    font-size: 1.5rem;\n    text-align:center;\n    padding-top:2rem;\n"])));function Ue(e){return Object(g.jsxs)(ze,{children:["No existe la tarea ",e.searchValue]})}var Ie,Ae,Le,Me=function(e){var n=u.a.useState(!1),t=Object(f.a)(n,2),r=t[0],a=t[1];return window.addEventListener("storage",(function(e){"TASKS_V1.0"===e.key&&(console.log(e),a(!0))})),{toggleShow:function(){e(),a(!1)},storageChange:r}},Ne=t(34),Re=t(33),De=O.a.div(Ie||(Ie=Object(p.a)(["\n    border-radius: 1rem;\n    background-color: #f95959;\n    display: flex;\n    width: 30rem;\n    height: 18rem;\n    flex-direction: column;\n    justify-content: center;\n    align-items:center;\n    padding: 1rem 1rem 1rem 1rem;\n"]))),Je=O.a.p(Ae||(Ae=Object(p.a)(["\n    font-size:1.5rem;\n    margin-bottom: 2rem;\n"]))),Be=O.a.button(Le||(Le=Object(p.a)(["\n    transition: 0.5s;\n    background: none;\n    color: white;\n    border: none;\n    cursor: pointer;\n    &:hover{\n        transform: scale(1.4);\n    };\n"]))),Fe={fontSize:"4rem",color:"yellow",marginBottom:"1.5rem"};function Ke(e){var n=e.syncUpTasks,t=Me(n),r=t.storageChange,a=t.toggleShow;return r?Object(g.jsx)(xe,{children:Object(g.jsxs)(De,{children:[Object(g.jsx)(Re.a,{style:Fe}),Object(g.jsx)(Je,{children:"Se han realizado cambios"}),Object(g.jsx)(Be,{onClick:a,children:Object(g.jsx)(Ne.a,{size:"2rem"})})]})}):null}var Pe=function(){var e=Object(h.m)(),n=B(),t=n.task,r=n.searchValue,a=n.setSearchValue,c=n.taskCompleted,o=n.totalTask,i=n.error,s=n.loading,l=n.searchArray,d=n.OnDelete,j=n.OnComplete,b=n.syncUpTasks;return Object(g.jsx)(u.a.Fragment,{children:Object(g.jsx)(z,{children:Object(g.jsxs)(P,{children:[Object(g.jsxs)(Oe,{loading:s,children:[Object(g.jsx)(H,{}),Object(g.jsx)(G,{task:t,taskCompleted:c,totalTask:o}),Object(g.jsx)(X,{searchValue:r,setSearchValue:a})]}),Object(g.jsx)(ee,{task:t,loading:s,error:i,searchValue:r,searchArray:l,taskLength:t.length,taskLoading:function(){return Object(g.jsx)(Se,{})},taskError:function(){return Object(g.jsx)(ke,{})},taskEmpty:function(){return Object(g.jsx)(Ve,{})},emptySearchResults:function(e){return Object(g.jsx)(Ue,{searchValue:e})},children:function(n){return Object(g.jsx)(be,{taskText:n.text,OnDelete:function(){return d(n.id)},completed:n.completed,OnComplete:function(){return j(n.id)},OnEdit:function(){return e("/edit/"+n.id,{state:n})}},n.id)}}),Object(g.jsx)(he,{onClick:function(){return e("/new")}}),Object(g.jsx)(Ke,{syncUpTasks:b})]})})})},$e=function(){var e=B().addTask;return Object(g.jsx)(z,{children:Object(g.jsx)(E,{label:"Escribe nueva tarea",submitText:"A\xf1adir",submitEvent:function(n){return e(n)}})})};var _e=function(){return Object(g.jsx)(m.a,{children:Object(g.jsxs)(h.c,{children:[Object(g.jsx)(h.a,{path:"/",element:Object(g.jsx)(Pe,{})}),Object(g.jsx)(h.a,{path:"/new",element:Object(g.jsx)($e,{})}),Object(g.jsx)(h.a,{path:"/edit/:id",element:Object(g.jsx)(F,{})}),Object(g.jsx)(h.a,{path:"*",element:Object(g.jsx)("p",{children:"Page not found"})})]})})};b.a.render(Object(g.jsx)(u.a.StrictMode,{children:Object(g.jsx)(_e,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.beca5585.chunk.js.map